# ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹å®Ÿè£… ã‚³ãƒ¼ãƒ‰å“è³ªåˆ†æãƒ¬ãƒãƒ¼ãƒˆ

**ä½œæˆæ—¥**: 2025å¹´10æœˆ14æ—¥
**åˆ†æå¯¾è±¡**: æ‹¡å¼µæ©Ÿèƒ½ãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹å®Ÿè£…
**åˆ†æç›®çš„**: ç„¡é§„ãªå‡¦ç†ã€é‡è¤‡ã‚³ãƒ¼ãƒ‰ã€æ”¹å–„å¯èƒ½ãªç®‡æ‰€ã®ç‰¹å®š

---

## ğŸ“‹ ç›®æ¬¡

1. [ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼](#1-ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼)
2. [é‡è¤‡ã‚³ãƒ¼ãƒ‰ã®å•é¡Œ](#2-é‡è¤‡ã‚³ãƒ¼ãƒ‰ã®å•é¡Œ)
3. [ç„¡é§„ãªå‡¦ç†ã®å•é¡Œ](#3-ç„¡é§„ãªå‡¦ç†ã®å•é¡Œ)
4. [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã®å•é¡Œ](#4-ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã®å•é¡Œ)
5. [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä¸Šã®å•é¡Œ](#5-ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä¸Šã®å•é¡Œ)
6. [æ”¹å–„ææ¡ˆ](#6-æ”¹å–„ææ¡ˆ)

---

## 1. ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼

### ç™ºè¦‹ã•ã‚ŒãŸå•é¡Œã®æ¦‚è¦

| ã‚«ãƒ†ã‚´ãƒª           | æ·±åˆ»åº¦   | å•é¡Œæ•° | å½±éŸ¿ç¯„å›²       |
| ------------------ | -------- | ------ | -------------- |
| **é‡è¤‡ã‚³ãƒ¼ãƒ‰**     | ğŸŸ¡ ä¸­    | 5ä»¶    | ä¿å®ˆæ€§         |
| **ç„¡é§„ãªå‡¦ç†**     | ğŸŸ¡ ä¸­    | 4ä»¶    | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ |
| **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£** | ğŸŸ  ä¸­-é«˜ | 3ä»¶    | æ‹¡å¼µæ€§ãƒ»ä¿å®ˆæ€§ |
| **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹** | ğŸŸ¢ ä½    | 2ä»¶    | UX             |

### ç·åˆè©•ä¾¡

- **ã‚³ãƒ¼ãƒ‰å“è³ª**: ğŸŸ¡ è‰¯å¥½ï¼ˆä¸€éƒ¨æ”¹å–„ã®ä½™åœ°ã‚ã‚Šï¼‰
- **é‡å¤§ãªå•é¡Œ**: âŒ ãªã—
- **æ¨å¥¨ã•ã‚Œã‚‹å¯¾å¿œ**: âœ… ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã«ã‚ˆã‚‹æ”¹å–„

---

## 2. é‡è¤‡ã‚³ãƒ¼ãƒ‰ã®å•é¡Œ

### 2.1 IDæ“ä½œãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®é‡è¤‡ ğŸ”´ HIGH

**å•é¡Œç®‡æ‰€**:

- `packages/suite-base/src/services/extension/IdbExtensionStorageMigration.ts`
- `packages/suite-base/src/util/marketplace/extensionIdHelpers.ts`
- `packages/suite-base/src/components/shared/Marketplace/utils/version/versionIdentifier.ts`

**é‡è¤‡ã—ã¦ã„ã‚‹æ©Ÿèƒ½**:

```typescript
// âŒ é‡è¤‡1: IdbExtensionStorageMigration.ts
export function extractBaseId(versionedId: string): string {
  if (versionedId.includes("@")) {
    const parts = versionedId.split("@");
    return parts[0] ?? versionedId;
  }
  return versionedId;
}

export function toV2Id(baseId: string, version: string): string {
  return `${baseId}@${version}`;
}

// âŒ é‡è¤‡2: extensionIdHelpers.ts
export function extractBaseId(id: string): string {
  if (isVersionedId(id)) {
    const parts = id.split("@");
    return parts[0] ?? id;
  }
  return id;
}

export function generateVersionedId(baseId: string, version: string): string {
  const cleanBaseId = extractBaseId(baseId);
  return `${cleanBaseId}@${version}`;
}

// âŒ é‡è¤‡3: versionIdentifier.ts
export function generateBaseId(id: string, publisher: string): string {
  const baseId = id.replace(/(@[\d.]+.*)?$/, "");
  return `${publisher}.${baseId}`;
}
```

**å½±éŸ¿**:

- åŒã˜ãƒ­ã‚¸ãƒƒã‚¯ãŒ3ç®‡æ‰€ã«å­˜åœ¨
- ãƒã‚°ä¿®æ­£æ™‚ã«3ç®‡æ‰€ã‚’ä¿®æ­£ã™ã‚‹å¿…è¦
- ä¸€è²«æ€§ã‚’ä¿ã¤ã®ãŒå›°é›£

**æ¨å¥¨ã•ã‚Œã‚‹å¯¾å¿œ**:

```typescript
// âœ… çµ±ä¸€: packages/suite-base/src/utils/extensionId.ts
export class ExtensionIdUtils {
  /**
   * Extract base ID from versioned ID
   * @example "publisher.name@1.0.0" â†’ "publisher.name"
   */
  static extractBaseId(id: string): string {
    return id.split("@")[0] ?? id;
  }

  /**
   * Generate versioned ID
   * @example ("publisher.name", "1.0.0") â†’ "publisher.name@1.0.0"
   */
  static toVersionedId(baseId: string, version: string): string {
    const cleanBaseId = this.extractBaseId(baseId);
    return `${cleanBaseId}@${version}`;
  }

  /**
   * Check if ID is versioned
   */
  static isVersioned(id: string): boolean {
    return id.includes("@");
  }

  /**
   * Extract version from ID
   * @example "publisher.name@1.0.0" â†’ "1.0.0"
   */
  static extractVersion(id: string): string | undefined {
    return this.isVersioned(id) ? id.split("@")[1] : undefined;
  }

  /**
   * Generate base ID with publisher
   * @example ("my-extension", "acme") â†’ "acme.my-extension"
   */
  static withPublisher(name: string, publisher: string): string {
    return `${publisher}.${name}`;
  }
}
```

### 2.2 ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«çŠ¶æ…‹ç®¡ç†ã®é‡è¤‡ ğŸŸ¡ MEDIUM

**å•é¡Œç®‡æ‰€**:

- `ExtensionMarketplaceSettings.tsx`: `operationStatus` (Record<string, OperationStatus>)
- `LayoutMarketplaceSettings.tsx`: `installingIds` (Set<string>)

**é‡è¤‡ãƒ‘ã‚¿ãƒ¼ãƒ³**:

```typescript
// âŒ ExtensionMarketplaceSettings.tsx
const [operationStatus, setOperationStatus] = useState<Record<string, OperationStatus>>({});

setOperationStatus((prev) => ({ ...prev, [versionedId]: OperationStatus.INSTALLING }));
// ... later
setOperationStatus((prev) => ({ ...prev, [versionedId]: OperationStatus.IDLE }));

// âŒ LayoutMarketplaceSettings.tsx
const [installingIds, setInstallingIds] = useState<Set<string>>(new Set());

setInstallingIds((prev) => new Set(prev).add(layout.id));
// ... later
setInstallingIds((prev) => {
  const next = new Set(prev);
  next.delete(layout.id);
  return next;
});
```

**å•é¡Œç‚¹**:

- åŒã˜ç›®çš„ï¼ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ä¸­çŠ¶æ…‹ã®ç®¡ç†ï¼‰ã§ç•°ãªã‚‹å®Ÿè£…
- `Set`ã®ä½œæˆã‚³ã‚¹ãƒˆãŒç„¡é§„ï¼ˆæ¯å›`new Set(prev)`ï¼‰
- æ‹¡å¼µæ©Ÿèƒ½ã¯è©³ç´°ãªçŠ¶æ…‹ç®¡ç†ï¼ˆINSTALLING/UNINSTALLINGï¼‰ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯ç°¡æ˜“çš„

**æ¨å¥¨ã•ã‚Œã‚‹å¯¾å¿œ**:

```typescript
// âœ… å…±é€šHook: useInstallationState.ts
export enum OperationStatus {
  IDLE = "idle",
  INSTALLING = "installing",
  UNINSTALLING = "uninstalling",
}

export interface UseInstallationStateOptions {
  enableDetailedStatus?: boolean; // true: Record, false: Set
}

export function useInstallationState(options?: UseInstallationStateOptions) {
  const enableDetailed = options?.enableDetailedStatus ?? false;

  const [operations, setOperations] = useState<Record<string, OperationStatus>>({});

  const setOperationStatus = useCallback((id: string, status: OperationStatus) => {
    setOperations((prev) => {
      if (status === OperationStatus.IDLE) {
        const { [id]: _, ...rest } = prev;
        return rest;
      }
      return { ...prev, [id]: status };
    });
  }, []);

  const isOperating = useCallback(
    (id: string) => {
      return operations[id] !== undefined && operations[id] !== OperationStatus.IDLE;
    },
    [operations],
  );

  const getStatus = useCallback(
    (id: string) => {
      return operations[id] ?? OperationStatus.IDLE;
    },
    [operations],
  );

  return {
    setOperationStatus,
    isOperating,
    getStatus,
    operations,
  };
}

// ä½¿ç”¨ä¾‹
// ExtensionMarketplaceSettings
const { setOperationStatus, isOperating } = useInstallationState({
  enableDetailedStatus: true,
});

// LayoutMarketplaceSettings
const { setOperationStatus, isOperating } = useInstallationState();
```

### 2.3 ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ãƒã‚§ãƒƒã‚¯ãƒ­ã‚¸ãƒƒã‚¯ã®é‡è¤‡ ğŸŸ¡ MEDIUM

**å•é¡Œç®‡æ‰€**:

- `ExtensionMarketplaceSettings.tsx`: `isAnyVersionInstalled()`
- `LayoutMarketplaceSettings.tsx`: `loadInstalledLayouts()`

**é‡è¤‡ãƒ‘ã‚¿ãƒ¼ãƒ³**:

```typescript
// âŒ ExtensionMarketplaceSettings.tsx
const isAnyVersionInstalled = useCallback(
  (marketplaceId: string): boolean => {
    const installedExtensions = namespacedData.flatMap((ns) => ns.entries);
    return installedExtensions.some((ext) => {
      const baseId = extractBaseId(ext.id);
      return baseId === marketplaceId || baseId === extractBaseId(marketplaceId);
    });
  },
  [namespacedData],
);

// âŒ LayoutMarketplaceSettings.tsx
const loadInstalledLayouts = useCallback(async () => {
  try {
    const installedLayouts = await catalog.getInstalledMarketplaceLayouts();
    const installedIds = new Set<string>();
    const idMap = new Map<string, string>();

    for (const layout of installedLayouts) {
      const origin = await catalog.getMarketplaceOrigin(layout.id);
      if (origin?.marketplaceId) {
        installedIds.add(origin.marketplaceId);
        idMap.set(origin.marketplaceId, layout.id);
      }
    }

    setInstalledMarketplaceIds(installedIds);
    setMarketplaceToLayoutIdMap(idMap);
  } catch (err) {
    console.error("Failed to load installed layouts:", err);
  }
}, [catalog]);
```

**å•é¡Œç‚¹**:

- æ‹¡å¼µæ©Ÿèƒ½ã¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§ç•°ãªã‚‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ
- æ‹¡å¼µæ©Ÿèƒ½: åŒæœŸçš„ãƒã‚§ãƒƒã‚¯ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ: éåŒæœŸãƒ­ãƒ¼ãƒ‰
- ä¸¡æ–¹ã¨ã‚‚ã€Œã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã‚¢ã‚¤ãƒ†ãƒ ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã€ã¨ã„ã†åŒã˜ç›®çš„

**æ¨å¥¨ã•ã‚Œã‚‹å¯¾å¿œ**:

çµ±ä¸€ã•ã‚ŒãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æŒã¤Context/Hookã§ç®¡ç†

```typescript
// âœ… useInstalledItems.ts
export interface InstalledItemsState<T> {
  installedIds: Set<string>;
  itemMap: Map<string, T>;
  isInstalled: (marketplaceId: string) => boolean;
  refresh: () => Promise<void>;
}

export function useInstalledExtensions(): InstalledItemsState<ExtensionInfo> {
  const namespacedData = useExtensionCatalog((state) => state.installedExtensions);

  return useMemo(() => {
    const installedIds = new Set<string>();
    const itemMap = new Map<string, ExtensionInfo>();

    namespacedData?.forEach((ext) => {
      const baseId = ExtensionIdUtils.extractBaseId(ext.id);
      installedIds.add(baseId);
      itemMap.set(baseId, ext);
    });

    return {
      installedIds,
      itemMap,
      isInstalled: (id) => installedIds.has(ExtensionIdUtils.extractBaseId(id)),
      refresh: async () => {
        // Handled by Zustand store
      },
    };
  }, [namespacedData]);
}

export function useInstalledLayouts(): InstalledItemsState<Layout> {
  const catalog = useLayoutCatalog();
  const [state, setState] = useState<{
    installedIds: Set<string>;
    itemMap: Map<string, Layout>;
  }>({
    installedIds: new Set(),
    itemMap: new Map(),
  });

  const refresh = useCallback(async () => {
    const layouts = await catalog.getInstalledMarketplaceLayouts();
    const installedIds = new Set<string>();
    const itemMap = new Map<string, Layout>();

    for (const layout of layouts) {
      const origin = await catalog.getMarketplaceOrigin(layout.id);
      if (origin?.marketplaceId) {
        installedIds.add(origin.marketplaceId);
        itemMap.set(origin.marketplaceId, layout);
      }
    }

    setState({ installedIds, itemMap });
  }, [catalog]);

  return {
    ...state,
    isInstalled: (id) => state.installedIds.has(id),
    refresh,
  };
}
```

### 2.4 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³ã®é‡è¤‡ ğŸŸ¢ LOW

**å•é¡Œç®‡æ‰€**:

- `ExtensionMarketplaceSettings.tsx`: `handleInstall()`, `handleUninstall()`
- `LayoutMarketplaceSettings.tsx`: `installLayout()`, `uninstallLayout()`

**é‡è¤‡ãƒ‘ã‚¿ãƒ¼ãƒ³**:

```typescript
// âŒ ä¸¡æ–¹ã§åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³
try {
  setOperationStatus(...);
  await new Promise((resolve) => setTimeout(resolve, 200)); // UX delay
  // ... operation ...
  enqueueSnackbar("Success", { variant: "success" });
} catch (error) {
  const err = error as Error;
  enqueueSnackbar(`Failed: ${err.message}`, { variant: "error" });
} finally {
  if (isMounted()) {
    setOperationStatus(...);
  }
}
```

**æ¨å¥¨ã•ã‚Œã‚‹å¯¾å¿œ**:

```typescript
// âœ… useMarketplaceOperation.ts
export function useMarketplaceOperation() {
  const { enqueueSnackbar } = useSnackbar();
  const isMounted = useMountedState();

  const executeOperation = useCallback(
    async <T>(
      operation: () => Promise<T>,
      options: {
        successMessage: string;
        errorMessage: string;
        onBefore?: () => void;
        onAfter?: () => void;
        delayMs?: number;
      },
    ): Promise<T | undefined> => {
      try {
        options.onBefore?.();

        // UX delay
        if (options.delayMs) {
          await new Promise((resolve) => setTimeout(resolve, options.delayMs));
        }

        const result = await operation();
        enqueueSnackbar(options.successMessage, { variant: "success" });
        return result;
      } catch (error) {
        const err = error as Error;
        enqueueSnackbar(`${options.errorMessage}: ${err.message}`, {
          variant: "error",
        });
        return undefined;
      } finally {
        if (isMounted()) {
          options.onAfter?.();
        }
      }
    },
    [enqueueSnackbar, isMounted],
  );

  return { executeOperation };
}

// ä½¿ç”¨ä¾‹
const { executeOperation } = useMarketplaceOperation();

await executeOperation(() => installExtensions(namespace, [data]), {
  successMessage: `${extension.displayName} installed successfully`,
  errorMessage: `Failed to install ${extension.displayName}`,
  onBefore: () => setOperationStatus(id, OperationStatus.INSTALLING),
  onAfter: () => setOperationStatus(id, OperationStatus.IDLE),
  delayMs: 200,
});
```

### 2.5 ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯ã®é‡è¤‡ ğŸŸ¡ MEDIUM

**å•é¡Œç®‡æ‰€**:

- `ExtensionMarketplaceSettings.tsx`: `allExtensions` useMemo
- `useExtensionSettings.ts`: `installedEntries` useMemo

**é‡è¤‡ãƒ‘ã‚¿ãƒ¼ãƒ³**:

```typescript
// âŒ ExtensionMarketplaceSettings.tsx
const installedData: ExtensionData[] = namespacedData.flatMap((namespace) =>
  namespace.entries.map((ext) => ({
    id: ext.id,
    name: ext.name,
    displayName: ext.displayName,
    description: ext.description,
    publisher: ext.publisher,
    version: ext.version,
    tags: ext.tags,
    installed: isExtensionInstalled(ext.id),
    // ... more fields
  })),
);

// âŒ useExtensionSettings.ts
const installedEntries = useMemo(() => {
  return (installed ?? []).map((entry) => {
    const marketplaceEntry = marketplaceMap[entry.id];
    if (marketplaceEntry != undefined) {
      return { ...marketplaceEntry, namespace: entry.namespace };
    }

    return {
      id: entry.id,
      installed: true,
      name: entry.displayName,
      displayName: entry.displayName,
      description: entry.description,
      publisher: entry.publisher,
      // ... more fields
    };
  });
}, [installed, marketplaceMap]);
```

**å•é¡Œç‚¹**:

- åŒã˜ç›®çš„ï¼ˆExtensionInfo â†’ ExtensionDataå¤‰æ›ï¼‰ã§ç•°ãªã‚‹å®Ÿè£…
- ãƒãƒƒãƒ”ãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯ãŒåˆ†æ•£

**æ¨å¥¨ã•ã‚Œã‚‹å¯¾å¿œ**:

```typescript
// âœ… extensionDataMapper.ts
export class ExtensionDataMapper {
  static toExtensionData(
    ext: ExtensionInfo,
    options?: {
      installed?: boolean;
      marketplaceEntry?: ExtensionMarketplaceDetail;
    },
  ): ExtensionData {
    return {
      id: ext.id,
      name: ext.name,
      displayName: ext.displayName ?? ext.name,
      description: ext.description,
      publisher: ext.publisher,
      version: ext.version,
      tags: ext.tags ?? [],
      installed: options?.installed ?? false,
      homepage: ext.homepage ?? options?.marketplaceEntry?.homepage,
      license: ext.license ?? options?.marketplaceEntry?.license,
      qualifiedName: ext.qualifiedName,
      namespace: ext.namespace,
      readme: ext.readme ?? options?.marketplaceEntry?.readme,
      changelog: ext.changelog ?? options?.marketplaceEntry?.changelog,
    };
  }

  static fromMarketplaceEntry(
    entry: ExtensionMarketplaceDetail,
    installed: boolean = false,
  ): ExtensionData {
    return {
      id: entry.id,
      name: entry.name,
      displayName: entry.displayName ?? entry.name,
      description: entry.description,
      publisher: entry.publisher,
      version: entry.version,
      tags: entry.keywords ?? [],
      installed,
      homepage: entry.homepage,
      license: entry.license,
      readme: entry.readme,
      changelog: entry.changelog,
    };
  }
}
```

---

## 3. ç„¡é§„ãªå‡¦ç†ã®å•é¡Œ

### 3.1 Set ã®ä¸è¦ãªå†ä½œæˆ ğŸŸ¡ MEDIUM

**å•é¡Œç®‡æ‰€**: `LayoutMarketplaceSettings.tsx`

```typescript
// âŒ ç„¡é§„: æ¯å›æ–°ã—ã„Setã‚’ä½œæˆ
setInstallingIds((prev) => new Set(prev).add(layout.id));

// ... later
setInstallingIds((prev) => {
  const next = new Set(prev);
  next.delete(layout.id);
  return next;
});
```

**å•é¡Œç‚¹**:

- `Set`ã®ã‚³ãƒ”ãƒ¼ä½œæˆï¼ˆO(n)ï¼‰ãŒä¸è¦
- Reactã®ä¸å¤‰æ€§ã¯ä¿ã¤å¿…è¦ãŒã‚ã‚‹ãŒã€åŠ¹ç‡çš„ãªæ–¹æ³•ãŒã‚ã‚‹

**æ¨å¥¨ã•ã‚Œã‚‹å¯¾å¿œ**:

```typescript
// âœ… æœ€é©åŒ–ç‰ˆ
setInstallingIds((prev) => {
  // æ—¢ã«å«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã¯ä½•ã‚‚ã—ãªã„ï¼ˆä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°é˜²æ­¢ï¼‰
  if (prev.has(layout.id)) return prev;

  const next = new Set(prev);
  next.add(layout.id);
  return next;
});

setInstallingIds((prev) => {
  // å«ã¾ã‚Œã¦ã„ãªã„å ´åˆã¯ä½•ã‚‚ã—ãªã„
  if (!prev.has(layout.id)) return prev;

  const next = new Set(prev);
  next.delete(layout.id);
  return next;
});

// âœ… ã•ã‚‰ã«æœ€é©åŒ–ï¼ˆå°è¦æ¨¡ãªSetã®å ´åˆï¼‰
// Setã®ä»£ã‚ã‚Šã«Record<string, boolean>ã‚’ä½¿ã†
const [installingIds, setInstallingIds] = useState<Record<string, boolean>>({});

setInstallingIds((prev) => ({ ...prev, [layout.id]: true }));
// ... later
setInstallingIds((prev) => {
  const { [layout.id]: _, ...rest } = prev;
  return rest;
});
```

### 3.2 ä¸è¦ãª useMemo ã®é€£é– ğŸŸ¡ MEDIUM

**å•é¡Œç®‡æ‰€**: `ExtensionMarketplaceSettings.tsx`

```typescript
// âŒ éå‰°ãª useMemo ä½¿ç”¨
const allExtensions = useMemo(() => {
  // ... è¤‡é›‘ãªå‡¦ç† ...
}, [deps]);

const groupedExtensions = useMemo(() => {
  // allExtensions ã‚’å‡¦ç†
}, [allExtensions, ...]);

const mappedFilteredExtensions = useMemo(() => {
  return filteredExtensions.map(/* ... */);
}, [filteredExtensions]);
```

**å•é¡Œç‚¹**:

- `useMemo`ã®é€£é–ãŒæ·±ã„ï¼ˆ3æ®µéšä»¥ä¸Šï¼‰
- ä¸­é–“ãƒ‡ãƒ¼ã‚¿æ§‹é€ ãŒè¤‡é›‘ã§ç†è§£ã—ã¥ã‚‰ã„
- ãƒ¡ãƒ¢åŒ–ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒé«˜ã„å¯èƒ½æ€§

**æ¨å¥¨ã•ã‚Œã‚‹å¯¾å¿œ**:

```typescript
// âœ… æœ€é©åŒ–: ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ˜ç¢ºåŒ–
const processedExtensions = useMemo(() => {
  // Step 1: Merge installed and marketplace data
  const merged = mergeExtensionData(namespacedData, marketplaceExtensions);

  // Step 2: Group by version
  const grouped = groupByVersion(merged);

  // Step 3: Apply search/filter (moved to useMarketplaceSearch)
  return grouped;
}, [namespacedData, marketplaceExtensions]);

// useMarketplaceSearch handles filtering internally
const { filteredItems } = useMarketplaceSearch({
  items: processedExtensions,
  // ...
});

// âœ… ä¸è¦ãªå¤‰æ›ã‚’å‰Šé™¤
// mappedFilteredExtensions ã¯å‰Šé™¤ã—ã€ç›´æ¥ filteredItems ã‚’ä½¿ç”¨
```

### 3.3 é‡è¤‡ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒ ğŸŸ¢ LOW

**å•é¡Œç®‡æ‰€**: `LayoutMarketplaceSettings.tsx`

```typescript
// âŒ loadInstalledLayouts ãŒè¤‡æ•°ç®‡æ‰€ã§å‘¼ã°ã‚Œã‚‹
useEffect(() => {
  const handleVisibilityChange = () => {
    if (!document.hidden && layouts.length > 0) {
      void loadInstalledLayouts(); // â† 1
    }
  };

  if (layouts.length > 0) {
    void loadInstalledLayouts(); // â† 2
  }
}, [layouts.length, loadInstalledLayouts]);

// installLayout å†…ã§ã‚‚
await loadInstalledLayouts(); // â† 3

// uninstallLayout å†…ã§ã‚‚
await loadInstalledLayouts(); // â† 4
```

**å•é¡Œç‚¹**:

- åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’çŸ­æ™‚é–“ã«è¤‡æ•°å›ãƒ•ã‚§ãƒƒãƒ
- APIå‘¼ã³å‡ºã—ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰

**æ¨å¥¨ã•ã‚Œã‚‹å¯¾å¿œ**:

```typescript
// âœ… ãƒ‡ãƒã‚¦ãƒ³ã‚¹ã•ã‚ŒãŸãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥
const debouncedRefresh = useDebouncedCallback(
  () => {
    void loadInstalledLayouts();
  },
  500, // 500msä»¥å†…ã®é€£ç¶šå‘¼ã³å‡ºã—ã¯ç„¡è¦–
  { leading: false, trailing: true }
);

// ä½¿ç”¨ç®‡æ‰€
await installLayout(...);
debouncedRefresh(); // â† ãƒ‡ãƒã‚¦ãƒ³ã‚¹ã•ã‚Œã‚‹

await uninstallLayout(...);
debouncedRefresh(); // â† ãƒ‡ãƒã‚¦ãƒ³ã‚¹ã•ã‚Œã‚‹
```

### 3.4 ä¸è¦ãªé…åˆ—ã‚³ãƒ”ãƒ¼ ğŸŸ¢ LOW

**å•é¡Œç®‡æ‰€**: `ExtensionMarketplaceSettings.tsx`

```typescript
// âŒ ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ¼”ç®—å­ã§é…åˆ—ã‚’ã‚³ãƒ”ãƒ¼
const unique = new Map<string, ExtensionData>();
[...installedData, ...hybridMarketplaceData].forEach((ext) => {
  // ...
});
```

**å•é¡Œç‚¹**:

- `installedData` ã¨ `hybridMarketplaceData` ã‚’çµåˆã—ã¦æ–°ã—ã„é…åˆ—ã‚’ä½œæˆ
- Mapã«è¿½åŠ ã™ã‚‹ã ã‘ãªã‚‰çµåˆä¸è¦

**æ¨å¥¨ã•ã‚Œã‚‹å¯¾å¿œ**:

```typescript
// âœ… ç›´æ¥å‡¦ç†
const unique = new Map<string, ExtensionData>();

// ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã‚’å„ªå…ˆ
installedData.forEach((ext) => {
  unique.set(ext.id, ext);
});

// ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ï¼ˆæ—¢å­˜ã¯ä¸Šæ›¸ãã—ãªã„ï¼‰
hybridMarketplaceData.forEach((ext) => {
  if (!unique.has(ext.id)) {
    unique.set(ext.id, ext);
  }
});

return Array.from(unique.values());
```

---

## 4. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ä¸Šã®å•é¡Œ

### 4.1 ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã®äºŒé‡ç®¡ç† ğŸŸ  HIGH

**å•é¡Œç®‡æ‰€**: `ExtensionMarketplaceSettings.tsx`

```typescript
// âŒ 2ã¤ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚’åŒæ™‚ã«ä½¿ç”¨
const marketplaceExtensions = useExtensionCatalog((state) => state.marketplaceExtensions);
const { marketplaceEntries } = useExtensionSettings();

// ãƒ‡ãƒ¼ã‚¿ã®å–å¾—æ–¹æ³•ãŒåˆ†å²
const hybridMarketplaceData: ExtensionData[] =
  marketplaceExtensions && marketplaceExtensions.length > 0
    ? marketplaceExtensions.flatMap(/* ... */) // â† ã‚½ãƒ¼ã‚¹1
    : groupedMarketplaceData.flatMap(/* ... */); // â† ã‚½ãƒ¼ã‚¹2
```

**å•é¡Œç‚¹**:

- `marketplaceExtensions` (ExtensionCatalog) ã¨ `marketplaceEntries` (useExtensionSettings) ã®2ã¤ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹
- ã©ã¡ã‚‰ã‚’ä¿¡é ¼ã™ã¹ãã‹ä¸æ˜ç¢º
- ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ãŒä¿è¨¼ã•ã‚Œãªã„

**å½±éŸ¿**:

- ãƒã‚°ã®æ¸©åºŠ
- ãƒ†ã‚¹ãƒˆã®è¤‡é›‘åŒ–
- ä¿å®ˆæ€§ã®ä½ä¸‹

**æ¨å¥¨ã•ã‚Œã‚‹å¯¾å¿œ**:

```typescript
// âœ… çµ±ä¸€: ExtensionCatalogContextã‚’å”¯ä¸€ã®ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã«
export interface ExtensionCatalog {
  // ...existing...

  // ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹é–¢é€£ã‚’å¼·åŒ–
  getMarketplaceExtensions: () => Promise<ExtensionItem[]>;
  searchMarketplaceExtensions: (query: string) => Promise<ExtensionItem[]>;
  refreshMarketplaceData: () => Promise<void>;

  // çŠ¶æ…‹
  marketplaceExtensions: ExtensionItem[] | undefined;
  marketplaceLoading: boolean;
  marketplaceError: string | undefined;
}

// âœ… useExtensionSettings ã¯å‰Šé™¤ã¾ãŸã¯ç°¡ç´ åŒ–
// ExtensionCatalogã‹ã‚‰ç›´æ¥ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã‚ˆã†ã«ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
```

### 4.2 Contexté–“ã®ä¾å­˜é–¢ä¿‚ã®è¤‡é›‘ã• ğŸŸ¡ MEDIUM

**å•é¡Œç®‡æ‰€**: `LayoutMarketplaceSettings.tsx`

```typescript
// âŒ å¤šæ•°ã®Contextã¸ã®ä¾å­˜
const marketplace = useLayoutMarketplace(); // â† 1
const catalog = useLayoutCatalog(); // â† 2
const { actions: previewActions } = usePreviewLayout(); // â† 3
const { dialogActions } = useWorkspaceActions(); // â† 4
```

**å•é¡Œç‚¹**:

- 1ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒ4ã¤ã®Contextã«ä¾å­˜
- ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£ã®ä½ä¸‹
- Contexté–“ã®æš—é»™çš„ãªä¾å­˜é–¢ä¿‚

**æ¨å¥¨ã•ã‚Œã‚‹å¯¾å¿œ**:

```typescript
// âœ… Facadeãƒ‘ã‚¿ãƒ¼ãƒ³ã§ä¾å­˜ã‚’é›†ç´„
export function useLayoutMarketplaceActions() {
  const marketplace = useLayoutMarketplace();
  const catalog = useLayoutCatalog();
  const preview = usePreviewLayout();
  const workspace = useWorkspaceActions();

  return {
    // çµ±åˆã•ã‚ŒãŸã‚¢ã‚¯ã‚·ãƒ§ãƒ³
    async installLayout(layout: LayoutMarketplaceDetail) {
      const data = await marketplace.downloadLayout(layout.layout);
      return catalog.installLayoutFromMarketplace(layout);
    },

    async previewLayout(layout: LayoutMarketplaceDetail) {
      const data = await marketplace.downloadLayout(layout.layout);
      workspace.dialogActions.preferences.close();
      return preview.actions.startPreview(layout, data);
    },

    async uninstallLayout(layoutId: LayoutID) {
      return catalog.uninstallMarketplaceLayout(layoutId);
    },
  };
}

// ä½¿ç”¨ä¾‹
const { installLayout, previewLayout, uninstallLayout } = useLayoutMarketplaceActions();
```

### 4.3 çŠ¶æ…‹ç®¡ç†ã®ä¸€è²«æ€§ã®æ¬ å¦‚ ğŸŸ¡ MEDIUM

**å•é¡Œ**:

- æ‹¡å¼µæ©Ÿèƒ½: Zustandã‚¹ãƒˆã‚¢ï¼ˆExtensionCatalogContextï¼‰
- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ: React Context API + useStateï¼ˆLayoutMarketplaceSettingså†…ï¼‰

**å•é¡Œç‚¹**:

- åŒã˜ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹æ©Ÿèƒ½ã§ç•°ãªã‚‹çŠ¶æ…‹ç®¡ç†
- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ç‹¬è‡ªã«çŠ¶æ…‹ç®¡ç†
- ãƒ‡ãƒ¼ã‚¿ã®ä¸€å…ƒç®¡ç†ãŒã§ããªã„

**æ¨å¥¨ã•ã‚Œã‚‹å¯¾å¿œ**:

```typescript
// âœ… ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚‚Zustandã‚¹ãƒˆã‚¢ã«ç§»è¡Œ
export interface LayoutCatalogStore {
  layouts: LayoutMarketplaceDetail[];
  installedLayouts: Layout[];
  installedMarketplaceIds: Set<string>;
  loading: boolean;
  error: string | undefined;

  // Actions
  fetchLayouts: () => Promise<void>;
  installLayout: (detail: LayoutMarketplaceDetail) => Promise<void>;
  uninstallLayout: (id: LayoutID) => Promise<void>;
  refreshInstalledLayouts: () => Promise<void>;
}

export const LayoutCatalogContext = createContext<StoreApi<LayoutCatalogStore>>(undefined);

// ä½¿ç”¨ä¾‹
const layouts = useLayoutCatalog((state) => state.layouts);
const installLayout = useLayoutCatalog((state) => state.installLayout);
```

---

## 5. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä¸Šã®å•é¡Œ

### 5.1 å¤§é‡ã®ã‚¢ã‚¤ãƒ†ãƒ è¡¨ç¤ºæ™‚ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ ğŸŸ¢ LOW

**å•é¡Œç®‡æ‰€**: `MarketplaceGrid`

```typescript
// âŒ å…¨ã‚¢ã‚¤ãƒ†ãƒ ã‚’ä¸€åº¦ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
<MarketplaceGrid>
  {filteredLayouts.map((layout) => (
    <MarketplaceCard key={layout.id} {...} />
  ))}
</MarketplaceGrid>
```

**å•é¡Œç‚¹**:

- 100+ã‚¢ã‚¤ãƒ†ãƒ ãŒã‚ã‚‹å ´åˆã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹ã®å¯èƒ½æ€§
- åˆæœŸãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒé…ã„

**æ¨å¥¨ã•ã‚Œã‚‹å¯¾å¿œ**:

```typescript
// âœ… ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å°å…¥
import { useVirtualizer } from "@tanstack/react-virtual";

function VirtualizedMarketplaceGrid({ items }: { items: MarketplaceItem[] }) {
  const parentRef = useRef<HTMLDivElement>(null);

  const rowVirtualizer = useVirtualizer({
    count: Math.ceil(items.length / 3), // 3åˆ—ã‚°ãƒªãƒƒãƒ‰
    getScrollElement: () => parentRef.current,
    estimateSize: () => 280, // ã‚«ãƒ¼ãƒ‰ã®é«˜ã•
    overscan: 2,
  });

  return (
    <div ref={parentRef} style={{ height: "600px", overflow: "auto" }}>
      <div style={{ height: `${rowVirtualizer.getTotalSize()}px` }}>
        {rowVirtualizer.getVirtualItems().map((virtualRow) => {
          const startIndex = virtualRow.index * 3;
          const rowItems = items.slice(startIndex, startIndex + 3);

          return (
            <div key={virtualRow.key}>
              {rowItems.map((item) => (
                <MarketplaceCard key={item.id} {...item} />
              ))}
            </div>
          );
        })}
      </div>
    </div>
  );
}
```

### 5.2 ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã®é…å»¶ãƒ­ãƒ¼ãƒ‰æœªå®Ÿè£… ğŸŸ¢ LOW

**å•é¡Œç®‡æ‰€**: `MarketplaceCard`

```typescript
// âŒ ã‚µãƒ ãƒã‚¤ãƒ«ã‚’å³åº§ã«ãƒ­ãƒ¼ãƒ‰
<img src={thumbnail} alt={name} />
```

**æ¨å¥¨ã•ã‚Œã‚‹å¯¾å¿œ**:

```typescript
// âœ… é…å»¶ãƒ­ãƒ¼ãƒ‰ + ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼
<img
  src={thumbnail}
  alt={name}
  loading="lazy"
  onError={(e) => {
    e.currentTarget.src = "/placeholder-thumbnail.png";
  }}
/>
```

---

## 6. æ”¹å–„ææ¡ˆ

### å„ªå…ˆåº¦1: å³åº§ã«å¯¾å¿œã™ã¹ãæ”¹å–„ ğŸ”´

#### 1. IDæ“ä½œãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®çµ±ä¸€

- **å·¥æ•°**: 0.5æ—¥
- **å½±éŸ¿**: ãƒã‚°ä¿®æ­£ã®åŠ¹ç‡åŒ–ã€ä¿å®ˆæ€§å‘ä¸Š
- **å®Ÿè£…**: `ExtensionIdUtils`ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã€æ—¢å­˜ã®3ç®‡æ‰€ã‚’ç½®ãæ›ãˆ

#### 2. ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã®ä¸€å…ƒåŒ–

- **å·¥æ•°**: 1æ—¥
- **å½±éŸ¿**: ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§ä¿è¨¼ã€ãƒã‚°å‰Šæ¸›
- **å®Ÿè£…**: `useExtensionSettings`ã‚’å»ƒæ­¢ã—ã€`ExtensionCatalog`ã«çµ±åˆ

### å„ªå…ˆåº¦2: è¨ˆç”»çš„ã«å¯¾å¿œã™ã¹ãæ”¹å–„ ğŸŸ¡

#### 3. å…±é€šHookã®ä½œæˆ

- **å·¥æ•°**: 1æ—¥
- **å½±éŸ¿**: ã‚³ãƒ¼ãƒ‰ã®é‡è¤‡å‰Šæ¸›ã€ä¿å®ˆæ€§å‘ä¸Š
- **å®Ÿè£…**:
  - `useInstallationState`: ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«çŠ¶æ…‹ç®¡ç†
  - `useMarketplaceOperation`: CRUDæ“ä½œã®å…±é€šåŒ–
  - `useLayoutMarketplaceActions`: Contextä¾å­˜ã®é›†ç´„

#### 4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

- **å·¥æ•°**: 0.5æ—¥
- **å½±éŸ¿**: UXå‘ä¸Šã€å¤§é‡ãƒ‡ãƒ¼ã‚¿å¯¾å¿œ
- **å®Ÿè£…**:
  - Setæ“ä½œã®æœ€é©åŒ–
  - useMemoé€£é–ã®ç°¡ç´ åŒ–
  - ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã®ãƒ‡ãƒã‚¦ãƒ³ã‚¹

#### 5. çŠ¶æ…‹ç®¡ç†ã®çµ±ä¸€

- **å·¥æ•°**: 2æ—¥
- **å½±éŸ¿**: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ä¸€è²«æ€§ã€ä¿å®ˆæ€§å‘ä¸Š
- **å®Ÿè£…**: LayoutCatalogã‚‚Zustandã‚¹ãƒˆã‚¢ã«ç§»è¡Œ

### å„ªå…ˆåº¦3: å°†æ¥çš„ã«æ¤œè¨ã™ã¹ãæ”¹å–„ ğŸŸ¢

#### 6. ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã®å°å…¥

- **å·¥æ•°**: 1æ—¥
- **å½±éŸ¿**: å¤§é‡ã‚¢ã‚¤ãƒ†ãƒ è¡¨ç¤ºæ™‚ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š
- **å®Ÿè£…**: `@tanstack/react-virtual`ã®å°å…¥

#### 7. ç”»åƒã®é…å»¶ãƒ­ãƒ¼ãƒ‰

- **å·¥æ•°**: 0.5æ—¥
- **å½±éŸ¿**: åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚é–“ã®çŸ­ç¸®
- **å®Ÿè£…**: `loading="lazy"`å±æ€§ã®è¿½åŠ 

---

## 7. å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### Phase 1: ç·Šæ€¥å¯¾å¿œï¼ˆ1é€±é–“ï¼‰

```
Week 1:
  Day 1-2: IDæ“ä½œãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®çµ±ä¸€
  Day 3-4: ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã®ä¸€å…ƒåŒ–
  Day 5: ãƒ†ã‚¹ãƒˆãƒ»æ¤œè¨¼
```

### Phase 2: ä¸­æœŸæ”¹å–„ï¼ˆ2é€±é–“ï¼‰

```
Week 2:
  Day 1-2: useInstallationState Hookä½œæˆ
  Day 3-4: useMarketplaceOperation Hookä½œæˆ
  Day 5: useLayoutMarketplaceActions Hookä½œæˆ

Week 3:
  Day 1-2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
  Day 3-5: çŠ¶æ…‹ç®¡ç†ã®çµ±ä¸€ï¼ˆLayout â†’ Zustandï¼‰
```

### Phase 3: é•·æœŸæ”¹å–„ï¼ˆ1é€±é–“ï¼‰

```
Week 4:
  Day 1-2: ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å®Ÿè£…
  Day 3: ç”»åƒé…å»¶ãƒ­ãƒ¼ãƒ‰
  Day 4-5: ç·åˆãƒ†ã‚¹ãƒˆãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
```

---

## 8. ã¾ã¨ã‚

### ã‚³ãƒ¼ãƒ‰å“è³ªè©•ä¾¡

| é …ç›®               | è©•ä¾¡  | ã‚³ãƒ¡ãƒ³ãƒˆ                       |
| ------------------ | ----- | ------------------------------ |
| **é‡è¤‡ã‚³ãƒ¼ãƒ‰**     | ğŸŸ¡ B  | ä¸€éƒ¨é‡è¤‡ã‚ã‚Šã€çµ±ä¸€ãŒå¿…è¦       |
| **ç„¡é§„ãªå‡¦ç†**     | ğŸŸ¡ B  | å°è¦æ¨¡ãªæœ€é©åŒ–ã®ä½™åœ°ã‚ã‚Š       |
| **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£** | ğŸŸ¡ B  | ä¸€è²«æ€§ã‚’é«˜ã‚ã‚‹ä½™åœ°ã‚ã‚Š         |
| **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹** | ğŸŸ¢ A  | ç¾çŠ¶ã¯å•é¡Œãªã—ã€å°†æ¥å¯¾å¿œã‚’æ¤œè¨ |
| **ç·åˆè©•ä¾¡**       | ğŸŸ¡ B+ | **è‰¯å¥½ã ãŒæ”¹å–„ã®ä½™åœ°ã‚ã‚Š**     |

### é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ

1. **é‡å¤§ãªãƒã‚°ã‚„è‡´å‘½çš„ãªå•é¡Œã¯ãªã„**

   - ç¾åœ¨ã®å®Ÿè£…ã¯å‹•ä½œã—ã¦ãŠã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å•é¡Œã‚’å¼•ãèµ·ã“ã—ã¦ã„ãªã„

2. **ä¿å®ˆæ€§å‘ä¸ŠãŒæœ€å„ªå…ˆ**

   - IDæ“ä½œã®çµ±ä¸€ã¨ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã®ä¸€å…ƒåŒ–ãŒæœ€é‡è¦
   - ã“ã‚Œã«ã‚ˆã‚Šå°†æ¥ã®ãƒã‚°ä¿®æ­£ãŒå®¹æ˜“ã«ãªã‚‹

3. **æ®µéšçš„ãªæ”¹å–„ãŒæ¨å¥¨**

   - ä¸€åº¦ã«å…¨ã¦ã‚’å¤‰æ›´ã™ã‚‹ã®ã§ã¯ãªãã€Phase 1 â†’ Phase 2 â†’ Phase 3ã¨æ®µéšçš„ã«å®Ÿæ–½
   - å„Phaseã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½ã—ã€å“è³ªã‚’ç¢ºä¿

4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯ç¾çŠ¶å•é¡Œãªã—**
   - ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç­‰ã¯å°†æ¥çš„ãªå¯¾å¿œã§ååˆ†
   - ãŸã ã—ã€ãƒ‡ãƒ¼ã‚¿é‡ãŒå¢—åŠ ã™ã‚‹è¦‹è¾¼ã¿ãŒã‚ã‚‹å ´åˆã¯æ—©æœŸå¯¾å¿œã‚’æ¤œè¨

---

**ä½œæˆè€…**: GitHub Copilot
**ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¨å¥¨**: é–‹ç™ºãƒãƒ¼ãƒ å…¨å“¡
**æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: Phase 1ã®å®Ÿè£…è¨ˆç”»ç­–å®š
